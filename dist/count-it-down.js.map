{"version":3,"file":"count-it-down.js","sources":["../src/index.js"],"sourcesContent":["export default function countItDown (date, onUpdate = () => {}) {\n  const countdownDate = date instanceof Date ? date.getTime() : (new Date(date)).getTime()\n\n  const riq = window.requestIdleCallback || (cb => setTimeout(cb, 0))\n\n  function handle () {\n    return riq(() => {\n      // Based on https://www.w3schools.com/howto/howto_js_countdown.asp\n      const now = new Date().getTime()\n\n      const distance = countdownDate - now\n\n      onUpdate({\n        days: Math.floor(distance / (1000 * 60 * 60 * 24)),\n        hours: Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)),\n        minutes: Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60)),\n        seconds: Math.floor((distance % (1000 * 60)) / 1000)\n      })\n    })\n  }\n\n  return window.setInterval(handle, 1000)\n}\n"],"names":["date","onUpdate","const","countdownDate","Date","getTime","riq","window","requestIdleCallback","cb","setTimeout","setInterval","now","distance","days","Math","floor","hours","minutes","seconds"],"mappings":"eAAe,SAAsBA,EAAMC,gCACzCC,IAAMC,EAAgBH,aAAgBI,KAAOJ,EAAKK,UAAa,IAAID,KAAKJ,GAAOK,UAEzEC,EAAMC,OAAOC,8BAAwBC,UAAMC,WAAWD,EAAI,IAkBhE,OAAOF,OAAOI,YAhBd,WACE,OAAOL,aAELJ,IAAMU,GAAM,IAAIR,MAAOC,UAEjBQ,EAAWV,EAAgBS,EAEjCX,GACEa,KAAMC,KAAKC,MAAMH,SACjBI,MAAOF,KAAKC,MAAOH,cACnBK,QAASH,KAAKC,MAAOH,YACrBM,QAASJ,KAAKC,MAAOH,MAA0B,UAKnB"}